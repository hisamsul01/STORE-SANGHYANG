<!-- Pengaturan -->
<div id="pengaturan" class="p-4 hidden">
  <h2 class="text-2xl font-bold mb-6">‚öôÔ∏è Pengaturan</h2>
  
  <form id="settingsForm" class="grid gap-6 md:grid-cols-2">
    <!-- Admin -->
    <div class="bg-white dark:bg-gray-800 shadow-md rounded-xl p-4 transition">
      <label class="block font-semibold mb-2">Tambah Admin</label>
      <input type="text" id="admin" class="w-full border rounded p-2 dark:bg-gray-700" placeholder="Nama Admin">
    </div>

    <!-- Store -->
    <div class="bg-white dark:bg-gray-800 shadow-md rounded-xl p-4 transition">
      <label class="block font-semibold mb-2">Tambah Store</label>
      <input type="text" id="storeName" class="w-full border rounded p-2 mb-2 dark:bg-gray-700" placeholder="Nama Store">
      <textarea id="storeAddress" class="w-full border rounded p-2 dark:bg-gray-700" placeholder="Alamat Store"></textarea>
    </div>

    <!-- Font -->
    <div class="bg-white dark:bg-gray-800 shadow-md rounded-xl p-4 transition">
      <label class="block font-semibold mb-2">Font</label>
      <select id="fontFamily" class="w-full border rounded p-2 dark:bg-gray-700">
        <option value="sans">Default (Sans)</option>
        <option value="poppins">Poppins</option>
        <option value="roboto">Roboto</option>
        <option value="montserrat">Montserrat</option>
      </select>
    </div>

    <!-- Script Spreadsheet -->
    <div class="bg-white dark:bg-gray-800 shadow-md rounded-xl p-4 transition">
      <label class="block font-semibold mb-2">Script Spreadsheet (API URL)</label>
      <input type="text" id="apiUrl" class="w-full border rounded p-2 dark:bg-gray-700" placeholder="https://script.google.com/macros/s/.../exec">
    </div>

    <!-- Tema -->
    <div class="bg-white dark:bg-gray-800 shadow-md rounded-xl p-4 transition">
      <label class="block font-semibold mb-2">Tema</label>
      <select id="tema" class="w-full border rounded p-2 dark:bg-gray-700">
        <option value="light">‚òÄÔ∏è Light</option>
        <option value="dark">üåô Dark</option>
      </select>
    </div>
  </form>

  <div class="mt-6 space-x-4">
    <button onclick="saveSettings()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition">üíæ Simpan</button>
    <button onclick="resetSettings()" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition">‚ôªÔ∏è Reset</button>
  </div>
</div>

<script>
  // Default Settings
  const defaultSettings = {
    admin: "Admin",
    storeName: "Store Sanghyang",
    storeAddress: "",
    fontFamily: "sans",
    apiUrl: "",
    tema: "light"
  };

  function applySettings(settings) {
    // Terapkan tema
    document.documentElement.classList.toggle("dark", settings.tema === "dark");
    // Terapkan font
    let fontMap = {
      "poppins": "'Poppins', sans-serif",
      "roboto": "'Roboto', sans-serif",
      "montserrat": "'Montserrat', sans-serif",
      "sans": "system-ui, sans-serif"
    };
    document.body.style.fontFamily = fontMap[settings.fontFamily] || fontMap["sans"];
  }

  function loadSettings() {
    const saved = JSON.parse(localStorage.getItem("wmsSettings")) || defaultSettings;
    document.getElementById("admin").value = saved.admin;
    document.getElementById("storeName").value = saved.storeName;
    document.getElementById("storeAddress").value = saved.storeAddress;
    document.getElementById("fontFamily").value = saved.fontFamily;
    document.getElementById("apiUrl").value = saved.apiUrl;
    document.getElementById("tema").value = saved.tema;
    applySettings(saved);
  }

  function saveSettings() {
    const settings = {
      admin: document.getElementById("admin").value,
      storeName: document.getElementById("storeName").value,
      storeAddress: document.getElementById("storeAddress").value,
      fontFamily: document.getElementById("fontFamily").value,
      apiUrl: document.getElementById("apiUrl").value,
      tema: document.getElementById("tema").value,
    };
    localStorage.setItem("wmsSettings", JSON.stringify(settings));
    applySettings(settings);
    alert("‚úÖ Pengaturan disimpan!");
  }

  function resetSettings() {
    if (confirm("Yakin reset ke default?")) {
      localStorage.removeItem("wmsSettings");
      loadSettings();
    }
  }

  loadSettings();
</script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Poppins&family=Roboto&display=swap" rel="stylesheet">
